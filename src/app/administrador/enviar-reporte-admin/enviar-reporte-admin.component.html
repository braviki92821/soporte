<app-header-admin></app-header-admin>
<main class="p-4 sm:ml-64">
    <div class="mt-8 mx-auto max-w-screen-md">
        <h1 class="text-center mt-5 font-bold text-2xl">Enviar Mensajes</h1>
        <div class="max-w-md mx-auto my-10">
            <p class="bg-red-600 text-white uppercase text-xs text-center p-2 mb-1 font-bold" *ngIf="validationError('asunto')">El asunto es obligatorio</p>
            <p class="bg-red-600 text-white uppercase text-xs text-center p-2 mb-1 font-bold" *ngIf="validationError('mensaje')">El mensaje es obligatorio</p>
            <p class="bg-red-600 text-white uppercase text-xs text-center p-2 mb-1 font-bold" *ngIf="customError['mensaje'].getError('minlength')">El mensaje debe contener al menos 10 caracteres</p>
            <p class="bg-red-600 text-white uppercase text-xs text-center p-2 mb-1 font-bold" *ngIf="validationError('destino')">Debe seleccionar a quien dirige el mensaje</p>
        </div>
        <form [formGroup]="formMensaje" (ngSubmit)="sendMessage()" class="space-y-5">
            <div>
                <label class="block text-sm uppercase text-gray-500 mb-2 font-bold" for="nombre"> Asunto </label>
                <input formControlName="asunto" class="w-full px-3 py-2 border border-gray-600 rounded-md placeholder-gray-400" type="text" name="asunto">
            </div>
            <div>
                <label class="block text-sm uppercase text-gray-500 mb-2 font-bold" for="correo"> Mensaje </label>
                <textarea formControlName="mensaje" name="mensaje" id="" cols="30" rows="5" class="w-full px-3 py-2 border border-gray-600 rounded-md placeholder-gray-400"></textarea>
            </div>
            <div>
                <label class="block text-sm uppercase text-gray-500 mb-2 font-bold" for="tipo"> Destino </label>
                <select formControlName="destino" name="destino" class="w-full px-3 py-2 border border-gray-600 rounded-md" *ngFor="let consult of consultUsers">
                    <option [value]="">---Seleccione---</option>
                    <option [value]="'todos'">Todos</option>
                    <option [value]="consult.id">{{consult.nombre}}</option>
                </select>
            </div>
    
            <input class="w-full bg-blue-900 hover:bg-indigo-700 text-white font-bold py-3 cursor-pointer" type="submit" value="Enviar Mensaje">
        </form>
    </div>
</main>